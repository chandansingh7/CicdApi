spring.application.name=cicdpos
server.port=8080

# Multipart uploads (product images)
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# Image storage — Azure Blob (prod) or local fallback (dev)
azure.storage.connection-string=${AZURE_STORAGE_CONNECTION_STRING:}
azure.storage.container=${AZURE_STORAGE_CONTAINER:pos-product-images}
# Local dev fallback: images served at this base URL
image.local.base-url=${IMAGE_BASE_URL:http://localhost:8080/api/images}

# Active profile — override via env var SPRING_PROFILES_ACTIVE=prod on Azure
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# JWT (shared across all profiles)
jwt.secret=${JWT_SECRET:3cfa76ef14937c1c0ea519f8fc057a80fcd04a7420f8e8bcd0a7567c272e007}
jwt.expiration=86400000

# CORS (shared) — add all frontend origins comma-separated in CORS_ORIGINS env var
cors.allowed-origins=${CORS_ORIGINS:http://localhost:4200,https://nice-plant-0f168160f.1.azurestaticapps.net,https://nice-plant-0f168160f.azurestaticapps.net}

# Swagger / OpenAPI (shared) 
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.try-it-out-enabled=true
springdoc.api-docs.path=/v3/api-docs

# ─── Logging ──────────────────────────────────────────────────────────────────
# Console pattern: timestamp  [thread]  [requestId]  [user]  LEVEL  logger - msg
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [%X{requestId:--}] [%X{user:-anonymous}] %-5level %logger{36} - %msg%n

# Application log level (set DEBUG in dev via env LOGGING_LEVEL_COM_POS=DEBUG)
logging.level.com.pos=${LOGGING_LEVEL_COM_POS:INFO}

# Suppress Hibernate / HikariCP verbose output
logging.level.org.hibernate=WARN
logging.level.org.hibernate.SQL=OFF
logging.level.org.hibernate.type=WARN
logging.level.org.hibernate.orm.jdbc.bind=WARN
logging.level.com.zaxxer.hikari=WARN
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN
